  <html lang="ja">
  <head>
        <meta charset="UTF-8">
    <link rel=alternate href="https://swdyh.github.io/blog/atom.xml" type="application/atom+xml">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&display=fallback&text=swdyh" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width">
    <meta property="og:image" content="https://swdyh.github.io/blog/og.jpg" />
    <meta name="twitter:site" content="@swdyh" />
    <meta name="twitter:card" content="summary">

    <title>tabndle0.0.7 + tabundle_states.user.js</title>
    <meta property="og:title" content="tabndle0.0.7 + tabundle_states.user.js" />
    <meta property="og:description" content="tabndle0.0.7 http://www.relucks.org/tabundle/tabundle.xpi    htmlファイルの保存先を設定できるようにした 一覧ページもhtmlとして出力..." />
    <meta property="og:url" content="https://swdyh.github.io/blog/1232801287" />
  </head>
  <body>
      <h1><a href="./">swdyh</a></h1>

  <h2>tabndle0.0.7 + tabundle_states.user.js</h2>
  <div>2009-01-24 21:48:07</div>
  <div class="content">
    <p>tabndle0.0.7<br>
<a href="http://www.relucks.org/tabundle/tabundle.xpi">http://www.relucks.org/tabundle/tabundle.xpi</a><br>
</p>

<ul>
<li>htmlファイルの保存先を設定できるようにした</li>
<li>一覧ページもhtmlとして出力するようにした</li>
<li>メニューやボタンを多言語化(日本語と英語)</li>
<li>その他、バグ修正など</li>
</ul><p>細かい修正をいろいろしました。それからtabundleで出力するHTML用にユーザスクリプトを書きました。どっちかというと、こっちのがメインです。</p><p>tabundle_states.user.js 0.0.1<br>
<a href="http://userscripts.org/scripts/show/41103">http://userscripts.org/scripts/show/41103</a></p><p>重要なものや、そうでないものを色わけして管理できるようにします。</p>

<div class="section">
    <h4>使い方</h4>
    <p>クリックすると背景色が黄色にが変わります。<br>
<span itemscope="" itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212951" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212951.png" alt="f:id:swdyh:20090124212951p:image" title="f:id:swdyh:20090124212951p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>もう一回クリックすると薄くなります。<br>
<span itemscope="" itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212952" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212952.png" alt="f:id:swdyh:20090124212952p:image" title="f:id:swdyh:20090124212952p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>もう一回クリックすればもとに戻ります。<br>
一番上のところに、状態別の数が表示されます。<br>
<span itemscope="" itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212953" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212953.png" alt="f:id:swdyh:20090124212953p:image" title="f:id:swdyh:20090124212953p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>一覧のページでも状態別の数が表示されます。ただし、一度も開いないページのものは表示されません。<br>
<span itemscope="" itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212954" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212954.png" alt="f:id:swdyh:20090124212954p:image" title="f:id:swdyh:20090124212954p:image" class="hatena-fotolife" itemprop="image"></a></span><br>
</p>

</div>
<div class="section">
    <h4>注意点</h4>
    <p>ユーザスクリプトからではHTMLの保存先がどこにあるかわからないので、file://*で実行するようにしています。自分の保存先に応じて、Greasemonkeyの設定画面で「ユーザスクリプトを実行するページ」を変えておくと、余計に動いてしまうことが少くなります。</p><p>あと古いバージョンで出力したHTMLだと機能しません。どうしても、動くようにしたい場合は、48行目くらいの、</p>
<pre class="code lang-html" data-lang="html" data-unlink=""><span class="synIdentifier">&lt;</span><span class="synStatement">ul</span><span class="synIdentifier">&gt;</span>
</pre><p>を</p>
<pre class="code lang-html" data-lang="html" data-unlink=""><span class="synIdentifier">&lt;</span><span class="synStatement">ul</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">"tabundle_list"</span><span class="synIdentifier">&gt;</span>
</pre><p>としてやると動くようになると思います。</p>

</div>
<div class="section">
    <h4>実装とかの話</h4>
    <p>tabundleの機能として、tabundle statesの機能を入れるという手もあったんですが、HTMLを出力するというのを残したままでやるいい方法が思いつきませんでした。あと拡張機能でなんとかしようとすると、chrome://を使いたくなるんですが、これだとGreasemonkeyではスクリプトを実行することができなくなります。一覧ページをchrome://からfile://にしたのはそれが理由です。tabundle自体は単純なままにしておいて、ユーザスクリプトで手を入れられるようにしとくというのがいいなあと。その一例としてtabundle_stateがあるという感じにするのがいいような気がしたので、拡張機能 + ユーザスクリプトというちょっと変った実装なりました。</p>

</div>

  </div>
  <div>
    <a class="back" href="archive">◀</a>
  </div>
    <footer>
    <div>
      <img src="og.jpg" width="100px" height="75px" alt="profile image" />
    </div>
    <p>
      swdyhの個人ブログです。プログラミングや日々のことについて書いたりします
      <br>
      <a href="https://swdyh.github.io/">Profile</a> <a href="https://github.com/swdyh">Github</a> <a href="https://twitter.com/swdyh">Twitter</a>
    </p>
  </footer>

  </body>
  </html>
  