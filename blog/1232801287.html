  <html>
  <head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="main.css">
  
    <title>swdyh: tabndle0.0.7 + tabundle_states.user.js</title>
  </head>
  <body>
  <h1><a href="index.html">swdyh</a></h1>
  <h2>tabndle0.0.7 + tabundle_states.user.js</h2>
  <div>2009-01-24 21:48:07</div>
  <div class="content">
    <p>tabndle0.0.7<br />
<a href="http://www.relucks.org/tabundle/tabundle.xpi">http://www.relucks.org/tabundle/tabundle.xpi</a><br />
</p>

<ul>
<li>htmlファイルの保存先を設定できるようにした</li>
<li>一覧ページもhtmlとして出力するようにした</li>
<li>メニューやボタンを多<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B8%C0%B8%EC%B2%BD">言語化</a>(日本語と英語)</li>
<li>その他、バグ修正など</li>
</ul><p>細かい修正をいろいろしました。それからtabundleで出力するHTML用にユーザ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>を書きました。どっちかというと、こっちのがメインです。</p><p>tabundle_states.user.js 0.0.1<br />
<a href="http://userscripts.org/scripts/show/41103">http://userscripts.org/scripts/show/41103</a></p><p>重要なものや、そうでないものを色わけして管理できるようにします。</p>

<div class="section">
    <h4>使い方</h4>
    <p>クリックすると背景色が黄色にが変わります。<br />
<span itemscope itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212951" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212951.png" alt="f:id:swdyh:20090124212951p:image" title="f:id:swdyh:20090124212951p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>もう一回クリックすると薄くなります。<br />
<span itemscope itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212952" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212952.png" alt="f:id:swdyh:20090124212952p:image" title="f:id:swdyh:20090124212952p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>もう一回クリックすればもとに戻ります。<br />
一番上のところに、状態別の数が表示されます。<br />
<span itemscope itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212953" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212953.png" alt="f:id:swdyh:20090124212953p:image" title="f:id:swdyh:20090124212953p:image" class="hatena-fotolife" itemprop="image"></a></span></p><p>一覧のページでも状態別の数が表示されます。ただし、一度も開いないページのものは表示されません。<br />
<span itemscope itemtype="http://schema.org/Photograph"><a href="http://f.hatena.ne.jp/swdyh/20090124212954" class="hatena-fotolife" itemprop="url"><img src="https://cdn-ak.f.st-hatena.com/images/fotolife/s/swdyh/20090124/20090124212954.png" alt="f:id:swdyh:20090124212954p:image" title="f:id:swdyh:20090124212954p:image" class="hatena-fotolife" itemprop="image"></a></span><br />
</p>

</div>
<div class="section">
    <h4>注意点</h4>
    <p>ユーザ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>からではHTMLの保存先がどこにあるかわからないので、file://*で実行するようにしています。自分の保存先に応じて、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Greasemonkey">Greasemonkey</a>の設定画面で「ユーザ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>を実行するページ」を変えておくと、余計に動いてしまうことが少くなります。</p><p>あと古いバージョンで出力したHTMLだと機能しません。どうしても、動くようにしたい場合は、48行目くらいの、</p>
<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">ul</span><span class="synIdentifier">&gt;</span>
</pre><p>を</p>
<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">ul</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;tabundle_list&quot;</span><span class="synIdentifier">&gt;</span>
</pre><p>としてやると動くようになると思います。</p>

</div>
<div class="section">
    <h4>実装とかの話</h4>
    <p>tabundleの機能として、tabundle statesの機能を入れるという手もあったんですが、HTMLを出力するというのを残したままでやるいい方法が思いつきませんでした。あと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B3%C8%C4%A5%B5%A1%C7%BD">拡張機能</a>でなんとかしようとすると、<a class="keyword" href="http://d.hatena.ne.jp/keyword/chrome">chrome</a>://を使いたくなるんですが、これだと<a class="keyword" href="http://d.hatena.ne.jp/keyword/Greasemonkey">Greasemonkey</a>では<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>を実行することができなくなります。一覧ページを<a class="keyword" href="http://d.hatena.ne.jp/keyword/chrome">chrome</a>://からfile://にしたのはそれが理由です。tabundle自体は単純なままにしておいて、ユーザ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>で手を入れられるようにしとくというのがいいなあと。その一例としてtabundle_stateがあるという感じにするのがいいような気がしたので、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B3%C8%C4%A5%B5%A1%C7%BD">拡張機能</a> + ユーザ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>というちょっと変った実装なりました。</p>

</div>

  </div>
  <div>
    <a class="back" href="index.html">◀</a>
  </div>
  </body>
  </html>
  